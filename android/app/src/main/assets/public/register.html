<div class="bg-white min-h-full">
    <!-- Header interno -->
    <div class="px-6 py-4 flex items-center border-b border-gray-100 sticky top-0 bg-white z-20">
        <button onclick="router.navigate('login')" class="p-2 -ml-2 text-slate-500"><i class="ph ph-arrow-left text-xl"></i></button>
        <h2 class="text-lg font-bold ml-2">Registro Nuevo</h2>
    </div>

    <div class="p-6 pb-20">
        <form onsubmit="app.register(event)">
            <!-- Foto Perfil con Editor -->
            <div class="flex justify-center mb-8">
                <div class="relative w-28 h-28">
                    <!-- Al hacer click, abre selector de archivos -->
                    <div class="w-full h-full rounded-full bg-slate-100 border-2 border-dashed border-slate-300 flex items-center justify-center overflow-hidden cursor-pointer shadow-inner" 
                         onclick="document.getElementById('reg-img').click()">
                        <img id="reg-preview" class="w-full h-full object-cover hidden">
                        <i id="reg-icon" class="ph ph-camera text-3xl text-slate-400"></i>
                    </div>
                    
                    <!-- Input oculto llama al Editor en lugar de preview directo -->
                    <input type="file" id="reg-img" class="hidden" accept="image/*" 
                           onchange="ui.openImageEditor(this, 'reg-preview')">
                           
                    <div class="absolute bottom-0 right-0 bg-indigo-600 text-white p-2 rounded-full shadow-md pointer-events-none">
                        <i class="ph-bold ph-pencil-simple text-xs"></i>
                    </div>
                </div>
            </div>

            <p class="text-xs font-bold text-slate-400 uppercase tracking-wider mb-4">Datos Personales</p>
            
            <!-- Validaciones: Title Case, Sin números, Sin espacios -->
            <div class="input-wrapper">
                <i class="ph ph-user input-icon"></i>
                <input type="text" id="reg-nombre" class="app-input" placeholder="Nombre" required 
                       oninput="validators.nameInput(event)">
            </div>

            <div class="grid grid-cols-2 gap-3 mb-4">
                <div class="input-wrapper mb-0">
                    <input type="text" id="reg-apellido1" class="app-input !pl-4" placeholder="1er Apellido" required
                           oninput="validators.nameInput(event)">
                </div>
                <div class="input-wrapper mb-0">
                    <input type="text" id="reg-apellido2" class="app-input !pl-4" placeholder="2do Apellido" required
                           oninput="validators.nameInput(event)">
                </div>
            </div>

            <!-- Cédula: Solo números -->
            <div class="input-wrapper">
                <i class="ph ph-identification-card input-icon"></i>
                <input type="tel" id="reg-cedula" class="app-input" placeholder="Cédula (Solo números)" required
                       oninput="validators.numberInput(event)">
            </div>

            <div class="input-wrapper">
                <i class="ph ph-calendar-blank input-icon"></i>
                <input type="date" id="reg-nacimiento" class="app-input" required>
            </div>

            <p class="text-xs font-bold text-slate-400 uppercase tracking-wider mb-4 mt-6">Contacto</p>

            <!-- Teléfonos: Solo números, exacto 8 dígitos -->
            <div class="grid grid-cols-2 gap-3 mb-4">
                <div class="input-wrapper mb-0">
                    <i class="ph ph-device-mobile input-icon"></i>
                    <input type="tel" id="reg-movil" class="app-input" placeholder="Móvil (8 dígitos)" required maxlength="8"
                           oninput="validators.numberInput(event)">
                </div>
                <div class="input-wrapper mb-0">
                    <i class="ph ph-phone input-icon"></i>
                    <input type="tel" id="reg-telefono" class="app-input" placeholder="Fijo (8 dígitos)" maxlength="8"
                           oninput="validators.numberInput(event)">
                </div>
            </div>

            <div class="input-wrapper">
                <i class="ph ph-envelope-simple input-icon"></i>
                <input type="email" id="reg-email" class="app-input" placeholder="Correo Electrónico" required>
            </div>

            <p class="text-xs font-bold text-slate-400 uppercase tracking-wider mb-4 mt-6">Cuenta</p>

            <!-- Usuario: Alfanumérico -->
            <div class="input-wrapper">
                <i class="ph ph-at input-icon"></i>
                <input type="text" id="reg-usuario" class="app-input" placeholder="Usuario (Sin caracteres esp.)" required
                       oninput="validators.userInput(event)">
            </div>

            <div class="input-wrapper">
                <i class="ph ph-lock-key input-icon"></i>
                <input type="password" id="reg-pass1" class="app-input" placeholder="Contraseña" required>
                <i class="ph ph-eye toggle-pass" onclick="ui.togglePass('reg-pass1', this)"></i>
            </div>

            <div class="input-wrapper">
                <i class="ph ph-check-circle input-icon"></i>
                <input type="password" id="reg-pass2" class="app-input" placeholder="Verificar Contraseña" required>
                <i class="ph ph-eye toggle-pass" onclick="ui.togglePass('reg-pass2', this)"></i>
            </div>

            <button type="submit" class="btn-primary mt-6 bg-indigo-600 shadow-lg shadow-indigo-200">Crear Cuenta</button>
        </form>
    </div>
</div>